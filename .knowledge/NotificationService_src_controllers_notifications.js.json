{"is_source_file": true, "format": "JavaScript", "description": "This is a JavaScript source file defining controller functions for notification-related API endpoints, including sending, scheduling, retrieving status, and listing logs of notifications. It includes validation schemas and interacts with notificationService to perform core notification operations.", "external_files": ["../services/notificationService", "../utils/logger", "express-validator"], "external_methods": ["validationResult(req)", "notificationService.send()", "notificationService.schedule()", "notificationService.getStatus()", "notificationService.listLogs()"], "published": ["sendValidators", "scheduleValidators", "statusValidators", "logsValidators", "send", "schedule", "getStatus", "listLogs"], "classes": [], "methods": [{"name": "validate", "description": "Validates request input and returns a 400 response if validation errors are present."}, {"name": "send(req, res, next)", "description": "Handles the API request to send a notification (email or SMS) via notificationService.", "scope": "", "scopeKind": ""}, {"name": "schedule(req, res, next)", "description": "Handles scheduling a notification for future delivery via notificationService.", "scope": "", "scopeKind": ""}, {"name": "getStatus(req, res, next)", "description": "Retrieves the delivery status of a notification.", "scope": "", "scopeKind": ""}, {"name": "listLogs(req, res, next)", "description": "Lists or filters notification logs based on query parameters.", "scope": "", "scopeKind": ""}], "calls": ["validationResult(req)", "notificationService.send({ type, recipients, templateId, parameters })", "notificationService.schedule({ type, recipients, templateId, parameters, scheduleAt })", "notificationService.getStatus(notificationId)", "notificationService.listLogs({ recipientId, status, from, to })"], "search-terms": ["notifications controller", "send notification", "schedule notification", "notification status", "notification logs", "express-validator schemas"], "state": 2, "file_id": 24, "knowledge_revision": 49, "git_revision": "", "ctags": [{"_type": "tag", "name": "errors", "path": "/home/kavia/workspace/code-generation/legacy-cycle-store-system-migration--cycle-store-4890-4600/NotificationService/src/controllers/notifications.js", "pattern": "/^  const errors = validationResult(req);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getStatus", "path": "/home/kavia/workspace/code-generation/legacy-cycle-store-system-migration--cycle-store-4890-4600/NotificationService/src/controllers/notifications.js", "pattern": "/^function getStatus(req, res, next) {$/", "language": "JavaScript", "kind": "function", "signature": "(req, res, next)"}, {"_type": "tag", "name": "listLogs", "path": "/home/kavia/workspace/code-generation/legacy-cycle-store-system-migration--cycle-store-4890-4600/NotificationService/src/controllers/notifications.js", "pattern": "/^function listLogs(req, res, next) {$/", "language": "JavaScript", "kind": "function", "signature": "(req, res, next)"}, {"_type": "tag", "name": "logger", "path": "/home/kavia/workspace/code-generation/legacy-cycle-store-system-migration--cycle-store-4890-4600/NotificationService/src/controllers/notifications.js", "pattern": "/^const logger = require('..\\/utils\\/logger');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "logsValidators", "path": "/home/kavia/workspace/code-generation/legacy-cycle-store-system-migration--cycle-store-4890-4600/NotificationService/src/controllers/notifications.js", "pattern": "/^const logsValidators = [$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "notificationService", "path": "/home/kavia/workspace/code-generation/legacy-cycle-store-system-migration--cycle-store-4890-4600/NotificationService/src/controllers/notifications.js", "pattern": "/^const notificationService = require('..\\/services\\/notificationService');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "schedule", "path": "/home/kavia/workspace/code-generation/legacy-cycle-store-system-migration--cycle-store-4890-4600/NotificationService/src/controllers/notifications.js", "pattern": "/^async function schedule(req, res, next) {$/", "language": "JavaScript", "kind": "function", "signature": "(req, res, next)"}, {"_type": "tag", "name": "scheduleValidators", "path": "/home/kavia/workspace/code-generation/legacy-cycle-store-system-migration--cycle-store-4890-4600/NotificationService/src/controllers/notifications.js", "pattern": "/^const scheduleValidators = [$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "send", "path": "/home/kavia/workspace/code-generation/legacy-cycle-store-system-migration--cycle-store-4890-4600/NotificationService/src/controllers/notifications.js", "pattern": "/^async function send(req, res, next) {$/", "language": "JavaScript", "kind": "function", "signature": "(req, res, next)"}, {"_type": "tag", "name": "sendValidators", "path": "/home/kavia/workspace/code-generation/legacy-cycle-store-system-migration--cycle-store-4890-4600/NotificationService/src/controllers/notifications.js", "pattern": "/^  sendValidators,$/", "language": "JavaScript", "kind": "field", "scope": "module.exports", "scopeKind": "class"}, {"_type": "tag", "name": "sendValidators", "path": "/home/kavia/workspace/code-generation/legacy-cycle-store-system-migration--cycle-store-4890-4600/NotificationService/src/controllers/notifications.js", "pattern": "/^const sendValidators = [$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "statusValidators", "path": "/home/kavia/workspace/code-generation/legacy-cycle-store-system-migration--cycle-store-4890-4600/NotificationService/src/controllers/notifications.js", "pattern": "/^const statusValidators = [param('notificationId').isString().notEmpty()];$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "validate", "path": "/home/kavia/workspace/code-generation/legacy-cycle-store-system-migration--cycle-store-4890-4600/NotificationService/src/controllers/notifications.js", "pattern": "/^const validate = (req, res) => {$/", "language": "JavaScript", "kind": "constant"}], "hash": "75359f97b46176f4edc24d7a40cd0d76", "format-version": 4, "code-base-name": "NotificationService", "filename": "NotificationService/src/controllers/notifications.js", "fields": [{"name": "sendValidators,", "scope": "module.exports", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"49": ""}]}